---
title: "Section 2.2 Simulations"
output: 
    learnr::tutorial:
      progressive: true
      allow_skip: true
runtime: shiny_prerendered
description: > 
  Dr. D add in description. 
---

```{r setup, include=FALSE}
library(learnr)
library(gradethis)
library(learnrhash)
gradethis::gradethis_setup()
knitr::opts_chunk$set(echo = FALSE)
```


> Faith these become quiz questions

How would you find the probability of rolling a 4 on a six sided die?

**Theoretical Probability**: 

\vspace{1cm}

**Estimated Probability**: 

\vspace{1cm}


### Example using R

Continuing with the deck of cards example, find the probability of selected events using R code.

* $P(A)$: `length(aces) / length(deck)`
```{r, echo=FALSE}
length(aces) / length(deck)
```

* $A\cup B$: `length(aces.and.hearts) / length(deck)`

```{r, echo=FALSE}
length(aces.and.hearts) / length(deck)
```


## Simulations with `sample()`


What does sampling **without replacement** mean? > faith quiz question


### Example

Take a sample of 2 from the numbers 1 through 10 without replacement.

```{r}
x <- 1:10   # Define the space
sample(x, size = 2) # Sample 2 items from the space
```

### You try it 
Sample without replacement three months from the list of months
```{r, eval=FALSE}
months <- c("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug",
            "Sept","Oct","Nov","Dec")
sample(__________,size = _____)
```


The defaults can be changed. For instance, if you want to sample **with replacement** you would just add `replace=TRUE` to the command. This allows you to sample more values than the size of the sample space

### Example
```{r}
x <- 1:5 
sample(x, size = 10, replace = TRUE)
```

### You try it
Create a sample of 10 random days of the week. 

```{r, eval=FALSE}
days <- _______
sample(__________,size = _____, replace = _____)
```

### Example
Suppose that two six-sided dice are rolled and the numbers appearing on the dice are added. Calculate the probabilities of the two events listed below using both theoretical methods and simulation. 

* **Event D**: The sum of the two dice is 6.
* **Event E**: At least 1 die is a 2. 

First we simulate the results from two die rolls, and the sample space that represents the sum of the two numbers added together.

1. Create two vectors, each length 10,000 by sampling the numbers from 1 to 6. These represent the rolls on each of two dice. 

```{r}
die_1 <- sample(x=1:6, size=10000, replace=TRUE)
die_2 <- sample(x=1:6, size=10000, replace=TRUE)
```

2. Add these two vectors of dice results together to create the sample space. 

```{r}
sum.of.2.dice <- die_1 + die_2
```


Let's look at event D: _The sum of the two dice is 6._

**Theoretical Probability:** 

```{r}
5/36
```

**Simulation:** 

```{r}
D <- sum.of.2.dice == 6
sum(D)/length(D)
mean(D) # exact same formula -- faith make sure the correct answer can be found either way sum/length or mean
```

Let's look at event E: _At least 1 die is a 2._

**Theoretical:** 
```{r}
11/36
```

**Simulation:** Create our vector of TRUE and FALSES, and take the mean. 

```{r}
E <- die_1==2 | die_2==2
mean(E)
```

### You try it
Roll three six-sided dice and add all the face up numbers. Use simulation to estimate the probability that the sum of the three dice is at least 10.

```{r}

```

## Using `replicate` to repeat experiments

### Example
Simulate rolling a dice 7 times and computing the sum of all rolls and recording if the sum is greater then 30.

```{r}
dice <- sample(1:6, size=7,replace=TRUE)
sum(dice)>30
```

Let's run this experiment 5 times. 

```{r}
replicate(n=5, {
  dice <- sample(1:6, size=7,replace=TRUE)
  sum(dice)>30
  })
```

We will almost always want to replicate things a large number of times, say $n=10000$. We then store the output in a vector.

```{r}
results_dice <- replicate(n = 10000,{
  dice <- sample(1:6, size=7,replace=TRUE)
  sum(dice)>30
  })
```

Now, calculate the probability of rolling a die 7 times and getting a sum larger than 30.

```{r}
mean(results_dice)
```

### You try it
For both questions, compute the theoretical probability and then use simulation to confirm your results. Write all your work for both theoretical AND your simulation code in the space below. 

1. If two die are rolled, what is the probability that the difference between the two numbers is less than 3? 

```{r}

```


2. A fair coin is repeatedly tossed ten times. Compute the probability that the last three coin tosses results in heads. (Hint, review Example 2.13 in the textbook for an example)

```{r}

```


## Submit your work
Part of your grade in this class comes from submitting tutorial work like this. 

Click the <kbd>Generate</kbd> button below to generate a hash for you assignment. This long string of numbers is a unique code for you, and this assignment. 

Paste this code into the Google Form below to submit your hash to the instructional team for scoring. You also have the opportunity to provide feedback and thoughts about the specific lesson. This is valuable information for the instructional team to know what topics were confusing for students or where extra help is needed. 

```{r context="server"}
encoder_logic()
```

```{r encode, echo=FALSE}
encoder_ui(default_ui(url = ""))
```





